<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from gpg.xacro                      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="GoPiGo3">
  <material name="red">
    <color rgba="1.0 0.0 0.0 1.0"/>
  </material>
  <material name="yellow">
    <color rgba="1.0 1.0 0.0 1.0"/>
  </material>
  <link name="base_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.075"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.035"/>
      <material name="red"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.075"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.035"/>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <joint name="right_wheel_to_base_link" type="continuous">
    <parent link="base_link"/>
    <child link="right_wheel"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.085 0.035"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <link name="right_wheel">
    <visual>
      <geometry>
        <cylinder length="0.02" radius="0.035"/>
      </geometry>
      <material name="yellow"/>
      <origin rpy="1.57075 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.02" radius="0.035"/>
      </geometry>
      <origin rpy="1.57075 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <!-- Transmission Elements-->
  <gazebo reference="right_wheel">
    <material>
        Gazebo/Grey
    </material>
  </gazebo>
  <transmission name="right_wheel_trans">
    <type>
            transmission_interface/SimpleTransmission
        </type>
    <actuator name="right_wheel_motor">
      <mechanicalReduction>
                1.0
            </mechanicalReduction>
    </actuator>
    <joint name="right_wheel_to_base_link" type="continuous">
      <hardwareInterface>
                hardware_interface/VelocityJointInterface
            </hardwareInterface>
    </joint>
  </transmission>
  <joint name="left_wheel_to_base_link" type="continuous">
    <parent link="base_link"/>
    <child link="left_wheel"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.085 0.035"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <link name="left_wheel">
    <visual>
      <geometry>
        <cylinder length="0.02" radius="0.035"/>
      </geometry>
      <material name="yellow"/>
      <origin rpy="1.57075 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.02" radius="0.035"/>
      </geometry>
      <origin rpy="1.57075 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <!-- Transmission Elements-->
  <gazebo reference="left_wheel">
    <material>
        Gazebo/Grey
    </material>
  </gazebo>
  <transmission name="left_wheel_trans">
    <type>
            transmission_interface/SimpleTransmission
        </type>
    <actuator name="left_wheel_motor">
      <mechanicalReduction>
                1.0
            </mechanicalReduction>
    </actuator>
    <joint name="left_wheel_to_base_link" type="continuous">
      <hardwareInterface>
                hardware_interface/VelocityJointInterface
            </hardwareInterface>
    </joint>
  </transmission>
  <joint name="counter_weight_to_base_link" type="fixed">
    <parent link="base_link"/>
    <child link="counter_weight"/>
    <origin xyz="-0.0375  0.0 0.016"/>
    <axis xyz="1.0 0.0 0.0"/>
  </joint>
  <link name="counter_weight">
    <visual>
      <geometry>
        <sphere radius="0.014"/>
      </geometry>
      <origin rpy="0.0 0 0.0" xyz="0.0 0.0 0.0"/>
      <material name="red"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.014"/>
      </geometry>
      <origin rpy="0.0 0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <mass value="0.3"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
    <gazebo reference="$counter_weight">
      <mu1 value="0.0"/>
      <mu2 value="0.0"/>
      <material>
            Gazebo/Red
        </material>
    </gazebo>
  </link>
  <joint name="camera_link_to_base_link" type="revolute">
    <parent link="base_link"/>
    <child link="camera_link"/>
    <origin rpy="-1.57075 0 -1.57075" xyz="0.075 0.0 0.065"/>
    <axis xyz="0.0 -1.0 0.0"/>
    <limit effort="1000" lower="-0.523583333333" upper="0.523583333333" velocity="1.0"/>
  </joint>
  <link name="camera_link">
    <visual>
      <geometry>
        <box size="0.0325 0.065 0.01"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <material name="red"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0325 0.065 0.01"/>
      </geometry>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
  </link>
  <transmission name="servo_trans">
    <type>
         transmission_interface/SimpleTransmisssion
    </type>
    <actuator name="servo_motor">
      <mechanicalReduction>
            1.0
        </mechanicalReduction>
    </actuator>
    <joint name="camera_link_to_base_link">
      <hardwareInterface>
            hardware_interface/PositionJointInterface
        </hardwareInterface>
    </joint>
  </transmission>
  <!-- camera -->
  <transmission name="servo_trans">
    <type>
         transmission_interface/SimpleTransmisssion
    </type>
    <actuator name="servo_motor">
      <mechanicalReduction>
            1.0
        </mechanicalReduction>
    </actuator>
    <joint name="camera_link_to_base_link">
      <hardwareInterface>
            hardware_interface/PositionJointInterface
        </hardwareInterface>
    </joint>
  </transmission>
  <!-- Gazebo -->
  <gazebo reference="camera_link">
    <sensor name="camera_1" type="camera" update_rate="30.0">
      <camera name="head">
        <pose>0 0 0 1.57075 -1.57075 0 </pose>
        <image far="50.0" format="RGB8" height="240" hfov="0.915" near="0.01" width="320"/>
      </camera>
      <!-- Sensor camera -->
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <alwaysOn>
            true
        </alwaysOn>
        <updateRate>
            30.0
        </updateRate>
        <cameraName>
            gpg
        </cameraName>
        <imageTopicName> 
            image
        </imageTopicName>
        <cameraInfoTopicName>
            camera_info
        </cameraInfoTopicName>
        <frameName>
            camera_link
        </frameName>
        <hackBaseline>
            0.0
        </hackBaseline>
        <distortionK1>0.0809380</distortionK1>
        <distortionK2>-0.257429</distortionK2>
        <distortionK3>0.0</distortionK3>
        <distortionT1>-0.002955</distortionT1>
        <distortionT2>0.003629</distortionT2>
      </plugin>
    </sensor>
  </gazebo>
  <!-- ros_control plugin-->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotNamespace>
            /gpg
        </robotNamespace>
      <legacyModeNS>
            false
        </legacyModeNS>
    </plugin>
  </gazebo>
</robot>

